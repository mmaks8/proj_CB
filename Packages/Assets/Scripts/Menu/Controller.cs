using System.Collections; using System.Collections.Generic; using UnityEngine;  public class Controller : MonoBehaviour {   public float speed;     public LayerMask ground;     private Vector3 direction;     private Vector3 walkingVelocity;     private Vector3 fallingVelocity;     private CharacterController controller;     public GameObject shot;     public Transform shotSpawn;     // Use this for initialization     void Start()     {         speed = 5.0f;         direction = Vector3.zero;         fallingVelocity = Vector3.zero;         controller = GetComponent<CharacterController>();     }      // Update is called once per frame     void Update()     {         if (Input.GetKeyDown(KeyCode.Space))         {             GameObject clone = Instantiate(shot, shotSpawn.position, shotSpawn.rotation) as GameObject;             Rigidbody cclone;             cclone = clone.GetComponent<Rigidbody>();             cclone. AddForce(shotSpawn.forward * 20, ForceMode.Impulse);           }     }     void FixedUpdate()     {          direction.x = Input.GetAxis("Horizontal");         direction.z = Input.GetAxis("Vertical");         direction = direction.normalized;         walkingVelocity = direction * speed;         controller.Move(walkingVelocity * Time.deltaTime);         if (direction != Vector3.zero)         {             transform.forward = direction;                      }                controller.Move(fallingVelocity * Time.deltaTime);     } }  

